"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[469],{2469:(O,Z,s)=>{s.r(Z),s.d(Z,{AuthRoutingModule:()=>M});var b=s(7276),n=s(95),g=s(2039),e=s(4946),d=s(6402),v=s(6749),F=s(6814);function A(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Name is Required "),e.qZA())}function C(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Name must be grater then 3 characters "),e.qZA())}function I(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Email is Required "),e.qZA())}function q(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Not a valid mail "),e.qZA())}function N(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Password is Required "),e.qZA())}function R(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Password must be greater then 6 characters "),e.qZA())}function U(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Password is Required "),e.qZA())}function y(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Password must be greater then 6 characters "),e.qZA())}function J(t,l){1&t&&(e.TgZ(0,"p",14),e._uU(1," Passwords do not match "),e.qZA())}let L=(()=>{var t;class l{showPopup(r,o){this.popup.message=r,this.popup.type=o,this.popup.open=!0,setTimeout(()=>{this.popup.message="",this.popup.type=g.C.INFO,this.popup.open=!1},this.popup.timeout)}constructor(r){this.popup={message:"",type:g.C.INFO,open:!1,timeout:5e3},this.registerForm=new n.cw({name:new n.NI(null,[n.kI.required,n.kI.minLength(3)]),email:new n.NI(null,[n.kI.required,n.kI.email]),password:new n.NI(null,[n.kI.required,n.kI.minLength(6)]),password_confirmation:new n.NI(null,[n.kI.required,n.kI.minLength(6)])}),this.authService=r,this.registerForm.get("password_confirmation")?.setValidators([n.kI.required,this.passwordsMatchValidator()])}passwordsMatchValidator(){return r=>{const o=r.value,u=this.registerForm.get("password")?.value;return o===u?null:{passwordMismatch:!0}}}submit(){if(this.registerForm.markAllAsTouched(),this.registerForm.valid){const r=this.registerForm.value;this.registerForm.reset(),this.authService.register(r).subscribe(o=>{this.showPopup("A Verification Email was sent to your mail",g.C.SUCCESS)},o=>{this.showPopup(o.error.message,g.C.ERROR)})}}}return(t=l).\u0275fac=function(r){return new(r||t)(e.Y36(d.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:36,vars:11,consts:[[1,"m-8","p-8","bg-white","bg-opacity-20","backdrop-blur-md","rounded-3xl","mt-12",3,"formGroup","ngSubmit"],[1,"text-3xl","text-center"],[1,"mb-12","mt-12"],["type","text","placeholder","Name","formControlName","name",1,"w-full","h-10","p-2","bg-transparent","border","border-black","outline-none","rounded-lg"],["class","text-red-400",4,"ngIf"],[1,"mb-12"],["type","email","placeholder","Email","formControlName","email",1,"w-full","h-10","p-2","bg-transparent","border","border-black","outline-non","rounded-lg"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"w-full","h-10","p-2","bg-transparent","border","border-black","outline-non","rounded-lg"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password_confirmation",1,"w-full","h-10","p-2","bg-transparent","border","border-black","outline-non","rounded-lg"],[1,"mt-10"],["href","/auth/login",1,"underline","text-"],[1,"text-center","mt-12"],[1,"bg-blue-500","pt-2","pb-2","pl-4","pr-4","text-white","rounded-lg","shadow-lg","hover:bg-blue-700","transition"],[3,"popup"],[1,"text-red-400"]],template:function(r,o){if(1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(1,"div")(2,"h1",1),e._uU(3,"Register"),e.qZA()(),e.TgZ(4,"div",2)(5,"label"),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",3),e.YNc(8,A,2,0,"p",4),e.YNc(9,C,2,0,"p",4),e.qZA(),e.TgZ(10,"div",5)(11,"label"),e._uU(12,"Email"),e.qZA(),e._UZ(13,"input",6),e.YNc(14,I,2,0,"p",4),e.YNc(15,q,2,0,"p",4),e.qZA(),e.TgZ(16,"div",5)(17,"label"),e._uU(18,"Password"),e.qZA(),e._UZ(19,"input",7),e.YNc(20,N,2,0,"p",4),e.YNc(21,R,2,0,"p",4),e.qZA(),e.TgZ(22,"div")(23,"label"),e._uU(24,"Re-type Password"),e.qZA(),e._UZ(25,"input",8),e.YNc(26,U,2,0,"p",4),e.YNc(27,y,2,0,"p",4),e.YNc(28,J,2,0,"p",4),e.qZA(),e.TgZ(29,"div",9)(30,"a",10),e._uU(31,"Already Have an account? Log In"),e.qZA()(),e.TgZ(32,"div",11)(33,"button",12),e._uU(34,"Register"),e.qZA()()(),e._UZ(35,"app-popup",13)),2&r){let u,p,a,m,c,h,f,_,w;e.Q6J("formGroup",o.registerForm),e.xp6(8),e.Q6J("ngIf",(null==(u=o.registerForm.get("name"))?null:u.touched)&&(null==(u=o.registerForm.get("name"))?null:u.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(p=o.registerForm.get("name"))?null:p.touched)&&(null==(p=o.registerForm.get("name"))?null:p.hasError("minlength"))),e.xp6(5),e.Q6J("ngIf",(null==(a=o.registerForm.get("email"))?null:a.touched)&&(null==(a=o.registerForm.get("email"))?null:a.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(m=o.registerForm.get("email"))?null:m.touched)&&(null==(m=o.registerForm.get("email"))?null:m.hasError("email"))),e.xp6(5),e.Q6J("ngIf",(null==(c=o.registerForm.get("password"))?null:c.touched)&&(null==(c=o.registerForm.get("password"))?null:c.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(h=o.registerForm.get("password"))?null:h.touched)&&(null==(h=o.registerForm.get("password"))?null:h.hasError("minlength"))),e.xp6(5),e.Q6J("ngIf",(null==(f=o.registerForm.get("password_confirmation"))?null:f.touched)&&(null==(f=o.registerForm.get("password_confirmation"))?null:f.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(_=o.registerForm.get("password_confirmation"))?null:_.touched)&&(null==(_=o.registerForm.get("password_confirmation"))?null:_.hasError("minlength"))),e.xp6(1),e.Q6J("ngIf",(null==(w=o.registerForm.get("password_confirmation"))?null:w.touched)&&(null==(w=o.registerForm.get("password_confirmation"))?null:w.hasError("passwordMismatch"))),e.xp6(7),e.Q6J("popup",o.popup)}},dependencies:[v.R,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,F.O5],encapsulation:2}),l})();function k(t,l){1&t&&(e.TgZ(0,"p",11),e._uU(1," Email is Required "),e.qZA())}function E(t,l){1&t&&(e.TgZ(0,"p",11),e._uU(1," Not a valid mail "),e.qZA())}function S(t,l){1&t&&(e.TgZ(0,"p",11),e._uU(1," Password is Required "),e.qZA())}function Y(t,l){1&t&&(e.TgZ(0,"p",11),e._uU(1," Password must be greater then 6 characters "),e.qZA())}let x=(()=>{var t;class l{showPopup(r,o){this.popup.message=r,this.popup.type=o,this.popup.open=!0,setTimeout(()=>{this.popup.message="",this.popup.type=g.C.INFO,this.popup.open=!1},this.popup.timeout)}constructor(r){this.popup={message:"",type:g.C.INFO,open:!1,timeout:5e3},this.loginForm=new n.cw({email:new n.NI(null,[n.kI.required,n.kI.email]),password:new n.NI(null,[n.kI.required,n.kI.minLength(6)])}),this.authService=r}submit(){this.loginForm.markAllAsTouched(),this.loginForm.valid&&this.authService.login(this.loginForm.value).subscribe(o=>{localStorage.setItem("token",o.token),window.location.href="/"},o=>{this.showPopup(o.error.message,g.C.ERROR)})}}return(t=l).\u0275fac=function(r){return new(r||t)(e.Y36(d.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:23,vars:6,consts:[[1,"m-8","p-8","bg-white","bg-opacity-20","backdrop-blur-md","rounded-3xl","mt-12",3,"formGroup","ngSubmit"],[1,"text-3xl","text-center"],[1,"mb-12","mt-12"],["type","email","placeholder","Email","formControlName","email",1,"w-full","h-10","p-2","bg-transparent","border","border-black","outline-non","rounded-lg"],["class","text-red-400",4,"ngIf"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"w-full","h-10","p-2","bg-transparent","border","border-black","outline-non","rounded-lg"],[1,"mt-10"],["href","/auth/register",1,"underline","text-"],[1,"text-center","mt-12"],[1,"bg-blue-500","pt-2","pb-2","pl-4","pr-4","text-white","rounded-lg","shadow-lg","hover:bg-blue-700","transition"],[3,"popup"],[1,"text-red-400"]],template:function(r,o){if(1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(1,"div")(2,"h1",1),e._uU(3,"Login"),e.qZA()(),e.TgZ(4,"div",2)(5,"label"),e._uU(6,"Email"),e.qZA(),e._UZ(7,"input",3),e.YNc(8,k,2,0,"p",4),e.YNc(9,E,2,0,"p",4),e.qZA(),e.TgZ(10,"div")(11,"label"),e._uU(12,"Password"),e.qZA(),e._UZ(13,"input",5),e.YNc(14,S,2,0,"p",4),e.YNc(15,Y,2,0,"p",4),e.qZA(),e.TgZ(16,"div",6)(17,"a",7),e._uU(18,"Don't Have an account? Create one"),e.qZA()(),e.TgZ(19,"div",8)(20,"button",9),e._uU(21,"Login"),e.qZA()()(),e._UZ(22,"app-popup",10)),2&r){let u,p,a,m;e.Q6J("formGroup",o.loginForm),e.xp6(8),e.Q6J("ngIf",(null==(u=o.loginForm.get("email"))?null:u.touched)&&(null==(u=o.loginForm.get("email"))?null:u.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(p=o.loginForm.get("email"))?null:p.touched)&&(null==(p=o.loginForm.get("email"))?null:p.hasError("email"))),e.xp6(5),e.Q6J("ngIf",(null==(a=o.loginForm.get("password"))?null:a.touched)&&(null==(a=o.loginForm.get("password"))?null:a.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(m=o.loginForm.get("password"))?null:m.touched)&&(null==(m=o.loginForm.get("password"))?null:m.hasError("minlength"))),e.xp6(7),e.Q6J("popup",o.popup)}},dependencies:[v.R,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,F.O5],encapsulation:2}),l})(),Q=(()=>{var t;class l{constructor(r){this.authService=r}ngOnInit(){this.authService.logout().subscribe(r=>{localStorage.removeItem("token"),window.location.href="/"},r=>{console.log(r)})}}return(t=l).\u0275fac=function(r){return new(r||t)(e.Y36(d.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-logout"]],decls:0,vars:0,template:function(r,o){},encapsulation:2}),l})();var P=s(4201);let T=(()=>{var t;class l{constructor(r,o){this.authService=r,this.router=o}canActivate(){return!this.authService.loggedIn()||(this.router.navigate(["/"]),!1)}}return(t=l).\u0275fac=function(r){return new(r||t)(e.LFG(d.$),e.LFG(b.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),l})();const G=[{path:"register",canActivate:[T],component:L},{path:"login",canActivate:[T],component:x},{path:"logout",canActivate:[P.a],component:Q}];let M=(()=>{var t;class l{}return(t=l).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[b.Bz.forChild(G),b.Bz]}),l})()}}]);